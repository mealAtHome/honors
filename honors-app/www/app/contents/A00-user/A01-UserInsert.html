<ons-page id="UINT" style="overflow-x: hidden;">

    <!-- ======================== -->
    <!-- main page -->
    <!-- ======================== -->
    <div id="UINT-div-slideformParent" class="common-div-slideformParent">

        <div class="common-div-header">
            <div header="back"><gg-backbtn onclick="UINT.close()"></gg-backbtn></div>
            <div header="title"><span>íšŒì›ê°€ì…</span></div>
        </div>
        <div class="common-div-headerPadding"></div>
        <div class="common-div-progressContainer">
            <div class="common-div-progressBar" id="UINT-div-progress" style="width:25%;"></div>
        </div>

        <!-- ======================== -->
        <!-- ë¡œê·¸ì¸ì •ë³´ -->
        <!-- ======================== -->
        <div class="common-div-slideformChild" slideform-status="open" id="UINT-div-id" slideform-next="#UINT-div-personal1" slideform-progress="#UINT-div-progress" slideform-progressval="25">
            <div class="common-div-headerPadding"></div>

            <!-- íƒ€ì´í‹€ -->
            <div class="common-div-formTitle">
                <span>ë¡œê·¸ì¸ ì •ë³´</span>
            </div>

            <!-- ì•„ì´ë”” -->
            <div class="common-div-formField">
                <span>ë¡œê·¸ì¸ ì•„ì´ë””</span>
                <span>ì˜ë¬¸ìˆ«ìì¡°í•©, 30ê¸€ìì´ë‚´</span>
                <input id="UINT-input-id" type="text" class="common-input-field" placeholder="ì•„ì´ë””">
            </div>

            <!-- ë¡œê·¸ì¸ì •ë³´ -->
            <div class="common-div-formField">
                <span>ë¹„ë°€ë²ˆí˜¸</span>
                <input id="UINT-input-pw" class="common-input-field" type="password" placeholder="ë¹„ë°€ë²ˆí˜¸">
                <button class="common-btn-outline common-tag-cushionUD" id="UINT-btn-pwShow">ë¹„ë°€ë²ˆí˜¸ ë³´ê¸°</button>
                <button class="common-btn-outline common-tag-cushionUD" id="UINT-btn-pwHide" style="display:none;">ë¹„ë°€ë²ˆí˜¸ ìˆ¨ê¸°ê¸°</button>
            </div>

            <!-- ë¡œê·¸ì¸ì •ë³´ -->
            <div id="UINT-div-pwViewer" class="common-div-formField" style="display:none;">
                <span>ë¹„ë°€ë²ˆí˜¸í™•ì¸</span>
                <input id="UINT-input-pwRe" class="common-input-field" type="text" disabled>
            </div>

            <!-- ë‹¤ìŒìœ¼ë¡œ -->
            <table class="common-tbl-slideformFooterBtn" tbl-type="button1">
                <tbody>
                    <tr>
                        <td><button id="UINT-btn-nextFromLogin" class="common-btn-inline">ë‹¤ìŒìœ¼ë¡œ</button></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- ======================== -->
        <!-- ê°œì¸ì •ë³´1 -->
        <!-- ======================== -->
        <div class="common-div-slideformChild" slideform-status="wait" id="UINT-div-personal1" slideform-next="#UINT-div-personal2" slideform-prev="#UINT-div-id" slideform-progress="#UINT-div-progress" slideform-progressval="50">
            <div class="common-div-headerPadding"></div>

            <!-- íƒ€ì´í‹€ -->
            <div class="common-div-formTitle">
                <span>ê°œì¸ì •ë³´-1</span>
            </div>

            <!-- ì´ë¦„ -->
            <div class="common-div-formField">
                <span>ì´ë¦„</span>
                <span>(ì‹¤ëª…ìœ¼ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”)</span>
                <input id="UINT-input-name" type="text" class="common-input-field" placeholder="ì´ë¦„">
            </div>

            <!-- ì¶œìƒë…„ë„ -->
            <div class="common-div-formField">
                <span>ì¶œìƒë…„ë„</span>
                <span>(ì„ íƒì…ë ¥)</span>
                <input id="UINT-input-birthYear" type="number" class="common-input-field" placeholder="ì˜ˆ: 1980">
            </div>

            <!-- íœ´ëŒ€ì „í™”ë²ˆí˜¸ -->
            <div class="common-div-formField">
                <span>íœ´ëŒ€ì „í™”ë²ˆí˜¸</span>
                <span>(ì„ íƒì…ë ¥)</span>
                <input id="UINT-input-phone" class="common-input-field" type="text" placeholder="íœ´ëŒ€ì „í™”ë²ˆí˜¸">
            </div>

            <!-- ë‹¤ìŒìœ¼ë¡œ -->
            <table class="common-tbl-slideformFooterBtn" tbl-type="button2">
                <tbody>
                    <tr>
                        <td><button id="UINT-btn-prevFromPersonal1" class="common-btn-outline">ë’¤ë¡œ</button></td>
                        <td><button id="UINT-btn-nextFromPersonal1" class="common-btn-inline">ë‹¤ìŒìœ¼ë¡œ</button></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- ======================== -->
        <!-- ê°œì¸ì •ë³´2 -->
        <!-- ======================== -->
        <div class="common-div-slideformChild" slideform-status="wait" id="UINT-div-personal2" slideform-next="#UINT-div-thanks" slideform-prev="#UINT-div-personal1" slideform-progress="#UINT-div-progress" slideform-progressval="75">
            <div class="common-div-headerPadding"></div>

            <!-- íƒ€ì´í‹€ -->
            <div class="common-div-formTitle">
                <span>ê°œì¸ì •ë³´-2</span>
            </div>

            <!-- ì§€ì—­ -->
            <div class="common-div-formField">
                <span>ì£¼ì†Œ</span>
                <span>(ì„ íƒì…ë ¥, ì˜ˆ:ë¶êµ¬ ë³µí˜„ë™)</span>
                <input id="UINT-input-address" class="common-input-field" placeholder="ë¶êµ¬ ë³µí˜„ë™">
            </div>

            <!-- ìì°¨ì—¬ë¶€ -->
            <div class="common-div-formField">
                <span>ìì°¨ì—¬ë¶€</span>
                <span>(ëª¨ì„ìˆ˜ì§‘ì •ë³´)</span>
                <table style="margin-bottom:0.5em;">
                    <tbody>
                        <tr>
                            <td><label class="common-label-radio"><input type="radio" class="UINT-radio-hascarflg" name="UINT-radio-hascarflg" value="y" checked/><span></span></label></td><td style="padding-right:1.2em;"><span>ğŸš—ìì°¨ìˆìŒ</span></td>
                            <td><label class="common-label-radio"><input type="radio" class="UINT-radio-hascarflg" name="UINT-radio-hascarflg" value="n"/><span></span></label></td><td style="padding-right:0.2em;"><span>ìì°¨ì—†ìŒ</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- í™œë™ì¤‘ì¸ íŒ€ -->
            <div class="common-div-formField">
                <span>í™œë™ì¤‘ì¸ íŒ€</span>
                <span>(í•„ìˆ˜)</span>
                <input id="UINT-input-teamname" class="common-input-field" placeholder="í™œë™ì¤‘ì¸ íŒ€ ì´ë¦„">
            </div>

            <!-- ë‹¤ìŒìœ¼ë¡œ -->
            <table class="common-tbl-slideformFooterBtn" tbl-type="button2">
                <tbody>
                    <tr>
                        <td><button id="UINT-btn-prevFromPersonal2" class="common-btn-outline">ë’¤ë¡œ</button></td>
                        <td><button id="UINT-btn-nextFromPersonal2" class="common-btn-inline">íšŒì›ê°€ì…</button></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- ======================== -->
        <!-- ê°ì‚¬í•©ë‹ˆë‹¤ -->
        <!-- ======================== -->
        <div class="common-div-slideformChild" slideform-status="wait" id="UINT-div-thanks" slideform-prev="#UINT-div-personal2" slideform-progress="#UINT-div-progress" slideform-progressval="100">
            <div class="common-div-headerPadding"></div>

            <!-- íƒ€ì´í‹€ -->
            <div class="common-div-formTitle">
                <span>ê°ì‚¬í•©ë‹ˆë‹¤!</span>
                <span>íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.</span>
            </div>

            <!-- ë‹¤ìŒìœ¼ë¡œ -->
            <table class="common-tbl-slideformFooterBtn" tbl-type="button1">
                <tbody>
                    <tr>
                        <td><button id="UINT-btn-nextFromThanks" class="common-btn-inline">ë©”ì¸ìœ¼ë¡œ ì´ë™</button></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- ======================== -->
        <!-- ì €ì¥í•˜ê¸° -->
        <!-- ======================== -->
        <!-- <button id="UINT-btn-save" class="common-btn-footer">íšŒì›ê°€ì…</button>
        <div class="common-div-cushionFooter"></div> -->
    </div>



    <script>

        /* =============================== */
        /* page obj */
        /* =============================== */
        var UINT =
        {
            code : "UINT",
            userImgUri: null,
            Data: {},

            /* -------------------- */
            /* show */
            /* -------------------- */
            show()
            {


            },

            close()
            {
                Common.confirmClose();
            },
        };


        $(document).ready(function()
        {
            /* =============================== */
            /* events */
            /* =============================== */

            /* ë¹„ë°€ë²ˆí˜¸ ë³´ê¸° */
            $("#UINT-btn-pwShow").click(function() { $("#UINT-div-pwViewer").show(); $("#UINT-btn-pwShow").hide(); $("#UINT-btn-pwHide").show(); });
            $("#UINT-btn-pwHide").click(function() { $("#UINT-div-pwViewer").hide(); $("#UINT-btn-pwShow").show(); $("#UINT-btn-pwHide").hide(); });
            $("#UINT-input-pw").keyup(function() {
                $("#UINT-input-pwRe").val($(this).val());
            });

            /* --------------- */
            /* ì…ë ¥í¼ : ë¡œê·¸ì¸ */
            /* --------------- */
            $("#UINT-btn-nextFromLogin").click(function()
            {
                /* ì…ë ¥ì²´í¬ */
                if(!Validation.User.id("#UINT-input-id", GGF.toast)) return;
                if(!Validation.User.pw("#UINT-input-pw", GGF.toast)) return;

                /* ì•„ì´ë”” ì¤‘ë³µì²´í¬ */
                Common.showProgress();
                setTimeout(function()
                {
                    let id = $("#UINT-input-id").val();
                    let mUsers = Api.User.selectCntById(id);
                    if(mUsers.getCnt() == "0") {
                        GGslideform.next("#UINT-div-slideformParent");
                    }
                    else {
                        Common.toast("ì´ë¯¸ ì‚¬ìš©ì¤‘ì¸ ì•„ì´ë””ì…ë‹ˆë‹¤.");
                        $("#UINT-input-id").focus();
                        $("#UINT-input-id").select();
                    }
                    Common.hideProgress();
                }, ajaxDelayTime);
            });

            /* --------------- */
            /* ê°œì¸ì •ë³´1 */
            /* --------------- */
            $("#UINT-btn-nextFromPersonal1").click(function() {
                if(!Validation.User.name("#UINT-input-name", GGF.toast))
                    return;
                GGslideform.next("#UINT-div-slideformParent");
            });
            $("#UINT-btn-prevFromPersonal1").click(function() { GGslideform.prev("#UINT-div-slideformParent"); });

            /* --------------- */
            /* ê°œì¸ì •ë³´2 */
            /* --------------- */
            $("#UINT-btn-nextFromPersonal2").click(function()
            {
                Common.showProgress();
                setTimeout(function()
                {
                    let id          = $("#UINT-input-id").val();
                    let pw          = $("#UINT-input-pw").val();
                    let name        = $("#UINT-input-name").val();
                    let birthYear   = $("#UINT-input-birthYear").val();
                    let phone       = $("#UINT-input-phone").val();
                    let email       = ""; /* $("#UINT-input-email").val(); */
                    let adrcvflg    = "n"; /* $(".UINT-radio-adrcvflg:checked").val(); */
                    let hascar      = $(".UINT-radio-hascarflg:checked").val();
                    let address     = $("#UINT-input-address").val();
                    let teamname    = $("#UINT-input-teamname").val();
                    let rslt = Api.User.insert(id, pw, name, birthYear, phone, email, adrcvflg, hascar, address, teamname, GGF.toast, GGF.alert);
                    if(rslt == false) {
                        Common.hideProgress();
                        return;
                    }

                    /* ë“±ë¡ì— ì„±ê³µí–ˆë‹¤ë©´, ë‹¤ìŒ ìŠ¬ë¼ì´ë“œë¡œ ì´ë™ */
                    if(GGstorage.isLogin()) {
                        GGslideform.next("#UINT-div-slideformParent");
                    }
                    Common.hideProgress();
                }, ajaxDelayTime);
                // GGslideform.next("#UINT-div-slideformParent");
            });
            $("#UINT-btn-prevFromPersonal2").click(function() { GGslideform.prev("#UINT-div-slideformParent"); });

            /* --------------- */
            /* ê°ì‚¬í•©ë‹ˆë‹¤ */
            /* --------------- */
            $("#UINT-btn-nextFromThanks").click(function()
            {
                Navigation.moveAfterLogin();
            });


            /* =============================== */
            /* page process */
            /* =============================== */

            /* ------------- */
            /* set pageParam */
            /* ------------- */
            let pageDat = Navigation.getPageParam();

            /* localizing */
            $("#UINT").i18n();

        });

    </script>
</ons-page>
