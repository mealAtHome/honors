<ons-page id="UBKL">

    <!-- ======================== -->
    <!-- 페이지 타이틀 -->
    <!-- ======================== -->
    <ons-toolbar>
        <div class="left"><gg-backbtn onclick="UBKL.close(true);"></gg-backbtn></div>
        <div class="center"><span data-i18n="(UBKL)choose_addr">은행계좌관리</span></div>
    </ons-toolbar>

    <!-- ======================== -->
    <!-- 새로운 엔티티 추가 -->
    <!-- ======================== -->
    <style>
        #UBKL-btn-newEntity
        {
            width:15em;
            max-width:70%;
            font-size:1em;
            padding:0.6em;
        }
    </style>
    <div class="common-div-cushion common-tag-marginTop10 common-tag-textCenter">
        <button id="UBKL-btn-newEntity" class="common-btn-outline">＋ 새로운 은행계좌 추가</button>
    </div>

    <!-- ======================== -->
    <!-- 엔티티 리스트 -->
    <!-- ======================== -->
    <div id="UBKL-div-entityList" class="common-div-scrollX"></div>

    <script>
        var UBKL =
        {
            code : "UBKL",

            /* 페이지 데이터 */
            Data :
            {
            },

            show()
            {
                Common.showProgress();
                setTimeout(function()
                {
                    let mBankaccounts = Api.Bankaccount.selectByExecutorForUser("none", "toast");
                    mBankaccounts.make("#UBKL-div-entityList");

                    Common.hideProgress();
                }, ajaxDelayTime);
            },

            /* ========================= */
            /* close */
            /* ========================= */
            close(force=false)
            {
                if(force == true)
                {
                    Navigation.moveBack();
                    return;
                }
                Navigation.moveBack();
            },
        }

        $(document).ready(function()
        {
            /* ========================= */
            /* event */
            /* ========================= */
            $("#UBKL-btn-newEntity").click(function() { Navigation.moveFrontPage(Navigation.Page.A82UserBankacctUpdate, {}); });

            /* ========================= */
            /* page process */
            /* ========================= */

            /* get data from Config */
            try
            {
                UBKL.Data = Navigation.getPageParam();
                Navigation.executeShow();
            }
            catch(e)
            {
                console.error(e);
                UBKL.close(true);
            }

            /* localizing */
            /* $("#UBKL").i18n(); */

        }); /* end function */

    </script>
</ons-page>